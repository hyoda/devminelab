{
  "name": "ì‚¬ì´íŠ¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 */6 * * *"
            }
          ]
        }
      },
      "id": "every-6-hours",
      "name": "ë§¤ 6ì‹œê°„ë§ˆë‹¤",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "url": "https://dalpum.hyoda.kr",
        "options": {
          "timeout": 10000,
          "response": {
            "response": {
              "neverError": true,
              "responseFormat": "autodetect",
              "outputPropertyName": "data"
            }
          }
        }
      },
      "id": "check-dalpum-perf",
      "name": "Dalpum ì„±ëŠ¥ ì²´í¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [460, 200]
    },
    {
      "parameters": {
        "url": "https://crawlcat.hyoda.kr",
        "options": {
          "timeout": 10000,
          "response": {
            "response": {
              "neverError": true,
              "responseFormat": "autodetect",
              "outputPropertyName": "data"
            }
          }
        }
      },
      "id": "check-crawlcat-perf",
      "name": "Crawlcat ì„±ëŠ¥ ì²´í¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [460, 300]
    },
    {
      "parameters": {
        "url": "https://n-auto.hyoda.kr",
        "options": {
          "timeout": 10000,
          "response": {
            "response": {
              "neverError": true,
              "responseFormat": "autodetect",
              "outputPropertyName": "data"
            }
          }
        }
      },
      "id": "check-nauto-perf",
      "name": "N-Auto ì„±ëŠ¥ ì²´í¬",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [460, 400]
    },
    {
      "parameters": {
        "jsCode": "// ì‘ë‹µ ì‹œê°„ ë° ìƒíƒœ ë¶„ì„\nconst results = [];\nconst items = $input.all();\n\nfor (const item of items) {\n  const nodeData = item.json;\n  const url = nodeData.url || 'Unknown';\n  const statusCode = nodeData.statusCode || 0;\n  const responseTime = nodeData.responseTime || 0;\n  \n  // ì‚¬ì´íŠ¸ë³„ ì´ë¦„ ì¶”ì¶œ\n  let siteName = 'Unknown';\n  if (url.includes('dalpum')) siteName = 'Dalpum';\n  else if (url.includes('crawlcat')) siteName = 'Crawlcat';\n  else if (url.includes('n-auto')) siteName = 'N-Auto';\n  else if (url.includes('ytdn')) siteName = 'YouTube Downloader';\n  else if (url.includes('miracle')) siteName = 'Miracle';\n  \n  // ì„±ëŠ¥ í‰ê°€\n  let performance = 'ğŸŸ¢ ì–‘í˜¸';\n  if (responseTime > 3000) performance = 'ğŸ”´ ëŠë¦¼';\n  else if (responseTime > 1500) performance = 'ğŸŸ¡ ë³´í†µ';\n  \n  // ìƒíƒœ í‰ê°€\n  let status = 'âœ… ì •ìƒ';\n  if (statusCode !== 200) status = 'âŒ ì˜¤ë¥˜';\n  \n  results.push({\n    siteName,\n    url,\n    statusCode,\n    responseTime,\n    performance,\n    status,\n    timestamp: new Date().toISOString()\n  });\n}\n\nreturn results;"
      },
      "id": "analyze-performance",
      "name": "ì„±ëŠ¥ ë¶„ì„",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "slow-response",
              "leftValue": "={{ $json.responseTime }}",
              "rightValue": 3000,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            },
            {
              "id": "error-status",
              "leftValue": "={{ $json.statusCode }}",
              "rightValue": 200,
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "id": "if-performance-issue",
      "name": "ì„±ëŠ¥ ì´ìŠˆ ìˆìŒ",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [900, 200]
    },
    {
      "parameters": {
        "url": "={{ $env.SLACK_WEBHOOK_URL }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": \"âš¡ ì„±ëŠ¥ ì´ìŠˆ ë°œê²¬\",\n  \"blocks\": [\n    {\n      \"type\": \"section\",\n      \"text\": {\n        \"type\": \"mrkdwn\",\n        \"text\": \"*âš¡ ì„±ëŠ¥ ì´ìŠˆ ë°œê²¬*\\n\\n*ì‚¬ì´íŠ¸:* {{ $json.siteName }} ({{ $json.url }})\\n*ì‘ë‹µì‹œê°„:* {{ $json.responseTime }}ms\\n*ìƒíƒœì½”ë“œ:* {{ $json.statusCode }}\\n*ìƒíƒœ:* {{ $json.status }}\\n*ì„±ëŠ¥:* {{ $json.performance }}\\n\\n*ì²´í¬ ì‹œê°„:* {{ new Date().toLocaleString('ko-KR', {timeZone: 'Asia/Seoul'}) }}\"\n      }\n    },\n    {\n      \"type\": \"actions\",\n      \"elements\": [\n        {\n          \"type\": \"button\",\n          \"text\": {\n            \"type\": \"plain_text\",\n            \"text\": \"ì‚¬ì´íŠ¸ í™•ì¸\"\n          },\n          \"url\": \"{{ $json.url }}\",\n          \"style\": \"primary\"\n        }\n      ]\n    }\n  ]\n}",
        "options": {}
      },
      "id": "performance-alert",
      "name": "ì„±ëŠ¥ ì•Œë¦¼",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1120, 100]
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 18 * * *"
            }
          ]
        }
      },
      "id": "daily-6pm",
      "name": "ë§¤ì¼ ì˜¤í›„ 6ì‹œ",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [240, 600]
    },
    {
      "parameters": {
        "url": "={{ $env.SLACK_WEBHOOK_URL }}",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"text\": \"ğŸ“Š DevMineLab ì¼ì¼ ì„±ëŠ¥ ë¦¬í¬íŠ¸\",\n  \"blocks\": [\n    {\n      \"type\": \"section\",\n      \"text\": {\n        \"type\": \"mrkdwn\",\n        \"text\": \"*ğŸ“Š ì˜¤ëŠ˜ì˜ ì„±ëŠ¥ ë¦¬í¬íŠ¸*\\n\\n*{{ new Date().toLocaleDateString('ko-KR', {year: 'numeric', month: 'long', day: 'numeric', weekday: 'long'}) }}*\\n\\nëª¨ë“  ì‚¬ì´íŠ¸ê°€ ì •ìƒ ìš´ì˜ë˜ê³  ìˆìŠµë‹ˆë‹¤! ğŸ‰\"\n      }\n    },\n    {\n      \"type\": \"section\",\n      \"text\": {\n        \"type\": \"mrkdwn\",\n        \"text\": \"*ğŸ  Dalpum (ë‚¨í•´ ì›Œì¼€ì´ì…˜)*\\nâ€¢ URL: https://dalpum.hyoda.kr\\nâ€¢ ìƒíƒœ: ì •ìƒ ìš´ì˜\\nâ€¢ ìµœê·¼ ì—…ë°ì´íŠ¸: ë‚¨í•´íƒ€ì„ì¦ˆ ê²€ìƒ‰ API\\n\\n*ğŸ± Crawlcat (ì¿ íŒ¡ ë„êµ¬)*\\nâ€¢ URL: https://crawlcat.hyoda.kr\\nâ€¢ ìƒíƒœ: ì •ìƒ ìš´ì˜\\nâ€¢ ê¸°ëŠ¥: ìë™í™” í¬ë¡¤ë§ ë„êµ¬\"\n      }\n    },\n    {\n      \"type\": \"section\",\n      \"text\": {\n        \"type\": \"mrkdwn\",\n        \"text\": \"*ğŸ¤– N-Auto (ë„¤ì´ë²„ ìë™í™”)*\\nâ€¢ URL: https://n-auto.hyoda.kr\\nâ€¢ ìƒíƒœ: ì •ìƒ ìš´ì˜\\n\\n*ğŸ“¹ YouTube Downloader*\\nâ€¢ URL: https://ytdn.hyoda.kr\\nâ€¢ ìƒíƒœ: ì •ìƒ ìš´ì˜\\n\\n*âœ¨ Miracle*\\nâ€¢ URL: https://miracle.hyoda.kr\\nâ€¢ ìƒíƒœ: ì •ìƒ ìš´ì˜\"\n      }\n    },\n    {\n      \"type\": \"section\",\n      \"text\": {\n        \"type\": \"mrkdwn\",\n        \"text\": \"ğŸ’¡ *íŒ:* ì„±ëŠ¥ ì´ìŠˆê°€ ê°ì§€ë˜ë©´ ì¦‰ì‹œ ì•Œë¦¼ì„ ë°›ê²Œ ë©ë‹ˆë‹¤. ë¬¸ì œê°€ ìˆë‹¤ë©´ ì„œë²„ ë¦¬ì†ŒìŠ¤ë‚˜ ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\"\n      }\n    }\n  ]\n}",
        "options": {}
      },
      "id": "daily-performance-report",
      "name": "ì¼ì¼ ì„±ëŠ¥ ë¦¬í¬íŠ¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [460, 600]
    }
  ],
  "pinData": {},\n  \"connections\": {\n    \"ë§¤ 6ì‹œê°„ë§ˆë‹¤\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Dalpum ì„±ëŠ¥ ì²´í¬\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Crawlcat ì„±ëŠ¥ ì²´í¬\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"N-Auto ì„±ëŠ¥ ì²´í¬\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Dalpum ì„±ëŠ¥ ì²´í¬\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì„±ëŠ¥ ë¶„ì„\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Crawlcat ì„±ëŠ¥ ì²´í¬\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì„±ëŠ¥ ë¶„ì„\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"N-Auto ì„±ëŠ¥ ì²´í¬\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì„±ëŠ¥ ë¶„ì„\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ì„±ëŠ¥ ë¶„ì„\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì„±ëŠ¥ ì´ìŠˆ ìˆìŒ\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ì„±ëŠ¥ ì´ìŠˆ ìˆìŒ\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì„±ëŠ¥ ì•Œë¦¼\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ë§¤ì¼ ì˜¤í›„ 6ì‹œ\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ì¼ì¼ ì„±ëŠ¥ ë¦¬í¬íŠ¸\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": true,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"1\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true\n  }\n}